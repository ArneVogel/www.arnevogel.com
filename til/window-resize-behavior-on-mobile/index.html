<!doctype html><html lang=en><head><title>TIL: Window Resize Behavior on Mobile</title>
<meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Arne Vogel"><meta name=description content><meta property="og:url" content="https://www.arnevogel.com/til/window-resize-behavior-on-mobile/"><meta property="og:title" content="TIL: Window Resize Behavior on Mobile"><link rel=canonical href=https://www.arnevogel.com/til/window-resize-behavior-on-mobile/><link rel=icon type=image/png href=https://www.arnevogel.com/favicon.png sizes=128x128><link href=https://www.arnevogel.com/style/style.css rel=stylesheet><link href=https://www.arnevogel.com//css/syntax.css rel=stylesheet></head><body><header class=site-header><nav class=wrapper><a href=/ class=header-text>Arne Vogel</a><div class=nav-right><a href=/til class=header-text>TIL</a></div></nav></header><div class=site-content><div class=wrapper><h1>TIL: Window Resize Behavior on Mobile</h1><span class=list-date>Nov 13, 2022 • Arne Vogel</span><p>When the url bar on mobile gets hidden it triggers a <code>window.resize</code>.
This is something I learned by a <a href=https://github.com/ArneVogel/listudy/pull/129>PR for listudy</a>.</p><p>In my code I had <code>window.onresize = resize_ground;</code> to adjust the size of the chess board when the browser window changed width.
But as <a href=https://seanyeh.com/>Sean Yeh</a> in the PR pointed out this caused unintended behavior in mobile browsers.
When scrolling down the url bar would hide.
As this would trigger a <code>window.resize</code> and thus the chess board would get resized causing the page position to jump back to the top.</p><p>The simple solution was to just check for the width.</p><pre tabindex=0><code>function onresize() {
    // Don&#39;t resize ground if the window width is unchanged
    if (window.innerWidth === window.window_width) {
        return;
    }

    window.window_width = window.innerWidth;
    resize_ground();
}
</code></pre><p>This works for listudy as the resize only actually cared about fixing the width so there would be no overlap.</p><p class=til-disclaimer><em>Disclaimer:</em> This is something I just learned so I might be completely wrong. If I am please let me know, my email is in the footer.</p></div></div><footer class=site-footer><div class=wrapper>© Copyright - Arne Vogel - Email: <a href=mailto:arne@arnevogel.com>arne@arnevogel.com</a><br>See <a href=/license/>License</a> for more details</div></footer></body></html>